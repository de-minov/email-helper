class EmailHelper{dropClass="email-helper--dropped";reg=RegExp("^(.+@)(.+)$","i");domains=["mail.ru","internet.ru","bk.ru","inbox.ru","list.ru","ya.ru","yandex.by","yandex.com","yandex.kz","yandex.ru","autorambler.ru","lenta.ru","myrambler.ru","rambler.ru","rambler.ua","ro.ru","gmail.com","icloud.com","outlook.com"];constructor(t){if(this.el="string"==typeof t?document.querySelector(t):t,!t||(this.input=this.el.querySelector("input"),this.list=this.el.querySelector(".email-helper__list"),!this.input||!this.list))return!1;this.check(),this.input.addEventListener("input",this.#a.bind(this)),this.list.addEventListener("click",({target:t})=>{this.input.value=this.input.value.replace(this.reg,"$1"+t.textContent),this.input.dispatchEvent(new Event("input"))})}#a(t){if(!t.target)return!1;let i=t.target.value;i||i.length>0?this.check():this.listHide()}check(){let t=this.input.value,i=t.match(this.reg);if(i){let e=this.domains.filter(t=>t.startsWith(i[2].toLowerCase()));if(this.list.innerHTML="",!e.length>0||1===e.length&&e[0]===i[2])return this.listHide();e.map(t=>this.list.insertAdjacentHTML("beforeend",`<div>${t}</div>`)),this.listShow()}else this.listHide()}listShow(){this.el.classList.add(this.dropClass)}listHide(){this.el.classList.contains(this.dropClass)&&this.el.classList.remove(this.dropClass)}}